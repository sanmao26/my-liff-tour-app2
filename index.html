<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"
    />
    <title>My LIFF App</title>
    <style>
      body {
        padding: 256px;
      }
      button {
        display: none;
        width: 50%;
        padding: 16px 0;
        margin: 16px auto;
      }
    </style>
  </head>
  <body>
    <button id="btnShare" onclick="sendShare()">Share Target Picker</button>
    <button id="btnLogin" onclick="liff.login()">Log In</button>
    <button id="btnLogOut" onclick="logOut()">Log Out</button>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
      async function sendShare() {
        const result = await liff.shareTargetPicker([
          {
            type: "flex",
            altText:
              "โปรตัดกรุ๊ปญี่ปุ่นไม่บวกเพิ่น 25-33 คน วันนี้-31 ต.ค.68",
            contents: {
  "type": "bubble",
  "size": "giga",
  "hero": {
    "type": "image",
    "url": "https://i.postimg.cc/RhtqmRHv/SL-31-68.jpg",
    "size": "full",
    "aspectRatio": "3:4",
    "aspectMode": "cover",
    "action": {
      "type": "uri",
      "uri": "https://www.probookingcenter.com/tours/japan"
    }
  }
}
          
          },
          
  
          
        ]);
        if (result) {
          alert(`[${result.status}] Message sent!`);
        } else {
          const [majorVer, minorVer, patchVer] = (
            liff.getLineVersion() || ""
          ).split(".");

          if (minorVer === undefined) {
            alert("ShareTargetPicker was canceled in external browser");
            return;
          }

          if (
            parseInt(majorVer) >= 10 &&
            parseInt(minorVer) >= 10 &&
            parseInt(patchVer) > 0
          ) {
            alert("ShareTargetPicker was canceled in LINE app");
          }
        }
      }
      function logOut() {
        liff.logout();
        window.location.reload();
      }
      async function main() {
        await liff.init({ liffId: "2006670623-loPapVk3" });
        if (liff.isLoggedIn()) {
          document.getElementById("btnShare").style.display = "block";
          if (!liff.isInClient()) {
            document.getElementById("btnLogOut").style.display = "block";
          }
        } else {
          document.getElementById("btnLogin").style.display = "block";
        }
      }
      main();
    </script>
  </body>
</html>
